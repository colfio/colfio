<!DOCTYPE html>
<html lang="en">

<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">

</head>

<body>
	<canvas id="gameCanvas" width="600" height="400"></canvas>
	<!-- debugging window -->
	<div id="debugSect" style="height:900px;overflow:scroll;float:left; font-family:'Courier New', Courier, monospace"></div>
	<script src="../src/engine/imageloader.js"></script>
    <script src="../src/engine/utils.js"></script>
    <script src="../src/engine/component.js"></script>
    <script src="../src/engine/gameobject.js"></script>
    <script src="../src/engine/gameobjectbuilder.js"></script>
    <script src="../src/engine/constants.js"></script>
    <script src="../src/engine/flags.js"></script>
    <script src="../src/engine/mesh.js"></script>
    <script src="../src/engine/msg.js"></script>
    <script src="../src/engine/scene.js"></script>
    <script src="../src/engine/trans.js"></script>
    <script src="../src/engine/bbox.js"></script>
    <script src="../src/engine/sortedarray.js"></script>

    <script src="../src/components/animation.js"></script>
    <script src="../src/components/basicrenderer.js"></script>
    <script src="../src/components/debugcomponent.js"></script>
    <script src="../src/components/executorcomponent.js"></script>
    <script src="../src/components/inputmanager.js"></script>
	<script src="../src/main.js"></script>

	<script type="text/javascript">
		// Start a new game
		function newGame() {
			scene.clearScene();

			// unit size is 100 px!
			UNIT_SIZE = 100;

			// debugging
			scene.addGlobalComponent(new DebugComponent(false, document.getElementById("debugSect")));

			let anim1 = null;
			let anim2 = null;

			let obj = new GameObjectBuilder("rect1")
			.withMesh(new RectMesh("rgb(255,0,0)", 1, 1))
			.withPosition(2,2)
			.withCenteredOrigin()
			.withComponent(new BasicRenderer())
			.withComponent(new ExecutorComponent()
				.beginRepeat(0)
				.addComponentAndWait(() => new RotationAnimation(0,1,1)) 
				.addComponentAndWait(() => new TranslateAnimation(1,1,2,2,1))
				.endRepeat()
			)
			.asGlobal()
			.build(scene);
		}

	</script>
</body>
</html>